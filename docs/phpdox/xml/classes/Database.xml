<?xml version="1.0" encoding="UTF-8"?>
<class xmlns="http://xml.phpdox.net/src" full="Database" namespace="" name="Database" abstract="false" final="false" start="15" end="380">
  <file path="C:/xampp/htdocs/atatusoft/Assegai/assegai/app/en-US/core" file="Database.php" realpath="C:/xampp/htdocs/atatusoft/Assegai/assegai/app/en-US/core/Database.php" size="10634" time="2016-09-21T09:10:01+02:00" unixtime="1474441801" sha1="e8e041849181b276eb0384f71b8929ffc000a27e" relative="app/en-US/core/Database.php"/>
  <docblock>
    <description compact="The database wrapper class. It contains methods to quickly perform database operations. It also acts as a layer of security using its sanitization methods to ensure that data is properly escaped before storage and data being extracted is appropriately unescaped."/>
    <version value="1.0.0"/>
    <since value="1.0.0"/>
    <package value="Assegai"/>
  </docblock>
  <member name="conn" visibility="private" line="17"/>
  <member name="mysqli" visibility="private" line="18"/>
  <member name="host" visibility="private" line="19"/>
  <member name="user" visibility="private" line="20"/>
  <member name="password" visibility="private" line="21"/>
  <member name="name" visibility="private" line="22"/>
  <member name="execution_errors" type="array" default="" visibility="public" line="24"/>
  <member name="instance" visibility="public" line="26"/>
  <constructor name="__construct" start="31" end="46" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Constructs a Database object."/>
    </docblock>
    <parameter name="db_host" byreference="false" type="{unknown}"/>
    <parameter name="db_user" byreference="false" type="{unknown}"/>
    <parameter name="db_pass" byreference="false" type="{unknown}"/>
    <parameter name="db_name" byreference="false" type="{unknown}"/>
    <inline>
      <comment value="Bind parameters to properties" line="33"/>
      <comment value="Create singleton" line="44"/>
    </inline>
  </constructor>
  <method name="query" start="55" end="59" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Performs a query on the database."/>
      <param description="The query string. Data inside the query should be properly escaped." type="object" variable="$query">
        <type full="{string}" namespace="" name="{string}"/>
      </param>
      <param description="Either the constant MYSQLI_USE_RESULT or" type="object" variable="$result_mode">MYSQLI_STORE_RESULT depending on the desired behavior. By default,
MYSQLI_STORE_RESULT is used.<type full="{int}" namespace="" name="{int}"/></param>
    </docblock>
    <parameter name="query" byreference="false" type="{unknown}"/>
    <parameter name="result_mode" byreference="false" type="{unknown}" default="" constant="MYSQLI_STORE_RESULT"/>
  </method>
  <method name="select" start="69" end="161" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Selects data from the database."/>
      <param description="name of the table to make the selection from." variable="$table" type="object">
        <type full="String" namespace="" name="String"/>
      </param>
      <param description="A comma seperated list of column names to select." variable="$columns" type="object">
        <type full="String" namespace="" name="String"/>
      </param>
      <param description="An array of filters for the selection." variable="$filters" type="array"/>
      <return description="An associative array of the selected data or an int" type="object">representing a status error.<type full="{array}" namespace="" name="{array}"/></return>
    </docblock>
    <parameter name="table" byreference="false" type="{unknown}"/>
    <parameter name="columns" byreference="false" type="{unknown}" default="" constant="null"/>
    <parameter name="filters" byreference="false" type="array" default=""/>
    <inline>
      <comment value="Cache connection" line="71"/>
      <comment value="Prepare SQL Query statement" line="74"/>
      <comment value="Check for distinct option" line="77"/>
      <comment value="Check for distinct option" line="85"/>
      <comment value="Append column names to $sql if any at all are found." line="89"/>
      <comment value="Append table name" line="99"/>
      <comment value="Append any filters e.g LIMIT" line="102"/>
      <comment value="Handle where filter" line="110"/>
      <comment value="Handle like filter" line="114"/>
      <comment value="Handle order filter" line="118"/>
      <comment value="Handle limit filter" line="122"/>
      <comment value="Handle offset filter" line="126"/>
      <comment value="echo $sql;" line="130"/>
      <comment value="Run the query and report if something goes wrong" line="131"/>
      <comment value="Fetch the selected rows and return them in an array" line="137"/>
      <comment value="If nothing was found insert a null character so that" line="148"/>
      <comment value="an empty array is never returned." line="149"/>
    </inline>
  </method>
  <method name="insert" start="170" end="231" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Inserts new records in a table.."/>
      <param description="The name of the table." type="object" variable="$table">
        <type full="{string}" namespace="" name="{string}"/>
      </param>
      <param description="The list of column names to be inserted." type="object" variable="$columns">
        <type full="{array}" namespace="" name="{array}"/>
      </param>
      <param description="The list of values to be inserted into the corresponding values." type="object" variable="$values">
        <type full="{array}" namespace="" name="{array}"/>
      </param>
      <return description="An integer corresponding to a status code." type="object">
        <type full="{int}" namespace="" name="{int}"/>
      </return>
    </docblock>
    <parameter name="table" byreference="false" type="{unknown}"/>
    <parameter name="columns" byreference="false" type="array" default=""/>
    <parameter name="values" byreference="false" type="array" default=""/>
    <inline>
      <comment value="Cache connection" line="172"/>
      <comment value="Prepare SQL query statement" line="175"/>
      <comment value="If columns are specified add them to sql query string" line="179"/>
      <comment value="Sanitize and append values to SQL query string" line="191"/>
      <comment value="Execute SQL query and report any errors." line="219"/>
    </inline>
  </method>
  <method name="update" start="241" end="291" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Updates a table in the database."/>
      <param description="The name of the table to be updated." type="object" variable="$table">
        <type full="{string}" namespace="" name="{string}"/>
      </param>
      <param description="The list of columns to be updated." type="object" variable="$column">
        <type full="{array}" namespace="" name="{array}"/>
      </param>
      <param description="The list of new values to update the corresponding columns with." type="object" variable="$values">
        <type full="{array}" namespace="" name="{array}"/>
      </param>
      <param description="An array of filters for the update." variable="$filters" type="array"/>
      <return description="An int representing the operation status." type="object">
        <type full="{int}" namespace="" name="{int}"/>
      </return>
    </docblock>
    <parameter name="table" byreference="false" type="{unknown}"/>
    <parameter name="columns" byreference="false" type="array" default=""/>
    <parameter name="values" byreference="false" type="array" default=""/>
    <parameter name="filters" byreference="false" type="array" default=""/>
    <inline>
      <comment value="Prepare SQL string" line="245"/>
      <comment value="Check for columns otherwise return error" line="248"/>
      <comment value="Check for values othewise return error" line="252"/>
      <comment value="Append columns and value to SQL string" line="258"/>
      <comment value="Run the query and report if something goes wrong" line="284"/>
    </inline>
  </method>
  <method name="delete" start="300" end="334" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Deletes a record from given table."/>
      <param description="The name of the table." type="object" variable="$table">
        <type full="{string}" namespace="" name="{string}"/>
      </param>
      <param description="An array of filters for the deletion." variable="$filters" type="array"/>
      <return description="An associative array of the selected data or an int" type="object">representing a status error.<type full="{array}" namespace="" name="{array}"/></return>
    </docblock>
    <parameter name="table" byreference="false" type="{unknown}"/>
    <parameter name="filters" byreference="false" type="{unknown}"/>
    <inline>
      <comment value="Check user credentials" line="305"/>
      <comment value="Prepare SQL statement" line="307"/>
      <comment value="Check for WHERE clause" line="310"/>
      <comment value="Execute SQL query" line="327"/>
    </inline>
  </method>
  <method name="drop" start="341" end="346" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Deletes a table from the database."/>
      <param description="The name of the table to destroy." type="object" variable="$table">
        <type full="{string}" namespace="" name="{string}"/>
      </param>
      <return description="An integer representing the status after the operation." type="object">
        <type full="{int}" namespace="" name="{int}"/>
      </return>
    </docblock>
    <parameter name="table" byreference="false" type="{unknown}"/>
  </method>
  <method name="truncate" start="353" end="358" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Deletes the data in a table and leaves the table itself."/>
      <param description="The name of the table to be truncated." type="object" variable="$table">
        <type full="{string}" namespace="" name="{string}"/>
      </param>
      <return description="An integer representing the status after the operation." type="object">
        <type full="{int}" namespace="" name="{int}"/>
      </return>
    </docblock>
    <parameter name="table" byreference="false" type="{unknown}"/>
  </method>
  <method name="sanitize" start="365" end="368" abstract="false" final="false" static="false" visibility="private">
    <docblock>
      <description compact="Sanitizes the given text for safe database storage."/>
      <param description="The text to be sanitized." type="object" variable="$txt">
        <type full="{string}" namespace="" name="{string}"/>
      </param>
      <return description="The sanitized string." type="object">
        <type full="{string}" namespace="" name="{string}"/>
      </return>
    </docblock>
    <parameter name="txt" byreference="false" type="{unknown}"/>
  </method>
  <method name="desanitize" start="375" end="378" abstract="false" final="false" static="false" visibility="private">
    <docblock>
      <description compact="Reverse string sanitization for given text."/>
      <param description="The text to be desanitized." type="object" variable="$txt">
        <type full="{string}" namespace="" name="{string}"/>
      </param>
      <return description="The desanitized string." type="object">
        <type full="{string}" namespace="" name="{string}"/>
      </return>
    </docblock>
    <parameter name="txt" byreference="false" type="{unknown}"/>
  </method>
</class>
